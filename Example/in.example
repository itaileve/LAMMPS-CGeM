# ReaxFF/C-GeM example water
# .....

units		real

atom_style	charge
read_data	data.tmp

pair_style	reax/c lmp_control checkqeq no lgvdw yes
pair_coeff	* * ffield.reax.eReaxFF  H O EL Cl Na Ca I

compute reax all pair reax/c 

variable eb      equal c_reax[1]
variable ea      equal c_reax[2]
variable elp     equal c_reax[3]
variable emol    equal c_reax[4]
variable ev      equal c_reax[5]
variable epen    equal c_reax[6]
variable ecoa    equal c_reax[7]
variable ehb     equal c_reax[8]
variable et      equal c_reax[9]
variable eco     equal c_reax[10]
variable ew      equal c_reax[11]
variable ep      equal c_reax[12]
variable efi     equal c_reax[13]
variable eqeq    equal c_reax[14] 

neighbor        2.2 bin #distance
neigh_modify    every 4 delay 0 check yes page 120000 one 12000 #frequency to update nblist, here every step

fix		1 all nve

group cores type 1 2 4 5 6 7
fix             23 all property/atom d_fx_efield d_fy_efield d_fz_efield ghost yes  
fix 5 cores setforce 0.0 0.0 0.0 #fix the cores, all the forces are 0. 
min_style cg #min of the shells with congugate gradient
minimize 1.0e-8 0.0 10000 10000 #min for shell
unfix 5 #unfix

compute         1 cores temp
thermo          1
thermo_style    custom step  etotal v_ep v_ew v_eb v_elp v_ev v_ea 
#dump            1 all custom 1 dump.lammpstrj type q x y z
dump            1 all custom 1 dump.lammpstrj type q x y z d_fx_efield d_fy_efield d_fz_efield
dump_modify     1 sort id


timestep	0.25
run		1000
